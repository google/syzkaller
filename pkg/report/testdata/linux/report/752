TITLE: memory leak in lookup_or_create_module_kobject
TYPE: LEAK

BUG: memory leak
unreferenced object 0xffff8882d78c9ea0 (size 96):
  comm "syz.0.23", pid 5988, jiffies 4294941388
  hex dump (first 32 bytes):
    df 82 95 86 ff ff ff ff a8 9e 8c d7 82 88 ff ff  ................
    a8 9e 8c d7 82 88 ff ff 00 00 00 00 00 00 00 00  ................
  backtrace (crc c9a1c131):
    kmemleak_alloc_recursive include/linux/kmemleak.h:44 [inline]
    slab_post_alloc_hook mm/slub.c:4951 [inline]
    slab_alloc_node mm/slub.c:5245 [inline]
    __kmalloc_cache_noprof+0x42f/0x5e0 mm/slub.c:5719
    kmalloc_noprof include/linux/slab.h:957 [inline]
    kzalloc_noprof include/linux/slab.h:1094 [inline]
    lookup_or_create_module_kobject kernel/params.c:774 [inline]
    lookup_or_create_module_kobject+0x57/0x110 kernel/params.c:764
    module_add_driver+0x13c/0x1e0 drivers/base/module.c:46
    bus_add_driver+0x148/0x280 drivers/base/bus.c:682
    driver_register+0xb1/0x140 drivers/base/driver.c:249
    usb_gadget_register_driver_owner+0x69/0xe0 drivers/usb/gadget/udc/core.c:1704
    raw_ioctl_run drivers/usb/gadget/legacy/raw_gadget.c:595 [inline]
    raw_ioctl+0xad7/0x10f0 drivers/usb/gadget/legacy/raw_gadget.c:1306
    vfs_ioctl fs/ioctl.c:51 [inline]
    __do_sys_ioctl fs/ioctl.c:597 [inline]
    __se_sys_ioctl fs/ioctl.c:583 [inline]
    __x64_sys_ioctl+0xf4/0x140 fs/ioctl.c:583
    do_syscall_x64 arch/x86/entry/syscall_64.c:63 [inline]
    do_syscall_64+0xa4/0x2c0 arch/x86/entry/syscall_64.c:94
    entry_SYSCALL_64_after_hwframe+0x77/0x7f


<<<<<<<<<<<<<<< tail report >>>>>>>>>>>>>>>

