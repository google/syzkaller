TITLE: general protection fault in dup_mm
ALT: bad-access in dup_mm

[ 1959.698473][ T6611] general protection fault, probably for non-canonical address 0xdffffc0002c3fefa: 0000 [#1] PREEMPT SMP KASAN
[ 1959.710215][ T6611] KASAN: probably user-memory-access in range [0x00000000161ff7d0-0x00000000161ff7d7]
[ 1959.719750][ T6611] CPU: 1 PID: 6611 Comm: syz-executor.0 Not tainted 5.9.0-rc4-syzkaller #0
[ 1959.728328][ T6611] Hardware name: Google Google Compute Engine/Google Compute Engine, BIOS Google 01/01/2011
[ 1959.738399][ T6611] RIP: 0010:__rb_insert_augmented+0x99/0x8b0
[ 1959.744379][ T6611] Code: c2 48 c1 ea 03 42 80 3c 2a 00 0f 85 58 05 00 00 4d 8b 74 24 08 49 39 ee 0f 84 76 01 00 00 4d 85 f6 74 1c 4c 89 f2 48 c1 ea 03 <42> 80 3c 2a 00 0f 85 64 05 00 00 41 f6 06 01 0f 84 7d 04 00 00 4c
[ 1959.763976][ T6611] RSP: 0018:ffffc900197c7990 EFLAGS: 00010206
[ 1959.770038][ T6611] RAX: ffff8880871db648 RBX: ffff88809e323f08 RCX: 1ffff1100275ae4d
[ 1959.778006][ T6611] RDX: 0000000002c3fefa RSI: ffff8880871db648 RDI: ffff888013ad7268
[ 1959.785975][ T6611] RBP: ffff88809f340058 R08: ffff8880001088e0 R09: ffff8880871db667
[ 1959.793938][ T6611] R10: 0000000000000000 R11: 0000000000000000 R12: ffff8880001088d8
[ 1959.801903][ T6611] R13: dffffc0000000000 R14: 00000000161ff7d0 R15: ffffffff81a1fcc0
[ 1959.809876][ T6611] FS:  00007f2d5064e700(0000) GS:ffff8880ae700000(0000) knlGS:0000000000000000
[ 1959.818800][ T6611] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[ 1959.825373][ T6611] CR2: 0000001b3022b000 CR3: 0000000203e42000 CR4: 00000000001526e0
[ 1959.833344][ T6611] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[ 1959.841308][ T6611] DR3: 0000000000000000 DR6: 00000000fffe0ff0 DR7: 0000000000000400
[ 1959.849271][ T6611] Call Trace:
[ 1959.858813][ T6611]  dup_mm+0x70b/0x1300
[ 1959.873010][ T6611]  copy_process+0x28e4/0x6920
[ 1959.897027][ T6611]  _do_fork+0xe8/0xb10
[ 1959.927626][ T6611]  __do_sys_clone3+0x1dd/0x320
[ 1959.969443][ T6611]  do_syscall_64+0x2d/0x70
[ 1959.973912][ T6611]  entry_SYSCALL_64_after_hwframe+0x44/0xa9
[ 1959.979788][ T6611] RIP: 0033:0x45d5f9
[ 1959.983668][ T6611] Code: 5d b4 fb ff c3 66 2e 0f 1f 84 00 00 00 00 00 66 90 48 89 f8 48 89 f7 48 89 d6 48 89 ca 4d 89 c2 4d 89 c8 4c 8b 4c 24 08 0f 05 <48> 3d 01 f0 ff ff 0f 83 2b b4 fb ff c3 66 2e 0f 1f 84 00 00 00 00
[ 1960.003251][ T6611] RSP: 002b:00007f2d5064dc78 EFLAGS: 00000246 ORIG_RAX: 00000000000001b3
[ 1960.011661][ T6611] RAX: ffffffffffffffda RBX: 0000000000002000 RCX: 000000000045d5f9
[ 1960.019612][ T6611] RDX: 0000000000000000 RSI: 0000000000000040 RDI: 0000000020001680
[ 1960.027560][ T6611] RBP: 000000000118d158 R08: 0000000000000000 R09: 0000000000000000
[ 1960.035514][ T6611] R10: 0000000000000000 R11: 0000000000000246 R12: 000000000118d12c
[ 1960.043483][ T6611] R13: 000000000169fb6f R14: 00007f2d5064e9c0 R15: 000000000118d12c
[ 1960.051525][ T6611] Modules linked in:
[ 1960.222582][ T6611] ---[ end trace e207d768dd5f78dc ]---
[ 1960.228124][ T6611] RIP: 0010:__rb_insert_augmented+0x99/0x8b0
[ 1960.235510][ T6611] Code: c2 48 c1 ea 03 42 80 3c 2a 00 0f 85 58 05 00 00 4d 8b 74 24 08 49 39 ee 0f 84 76 01 00 00 4d 85 f6 74 1c 4c 89 f2 48 c1 ea 03 <42> 80 3c 2a 00 0f 85 64 05 00 00 41 f6 06 01 0f 84 7d 04 00 00 4c
[ 1960.257456][ T6611] RSP: 0018:ffffc900197c7990 EFLAGS: 00010206
[ 1960.264558][ T6611] RAX: ffff8880871db648 RBX: ffff88809e323f08 RCX: 1ffff1100275ae4d
[ 1960.276120][ T6611] RDX: 0000000002c3fefa RSI: ffff8880871db648 RDI: ffff888013ad7268
[ 1960.284586][ T6611] RBP: ffff88809f340058 R08: ffff8880001088e0 R09: ffff8880871db667
[ 1960.294864][ T6611] R10: 0000000000000000 R11: 0000000000000000 R12: ffff8880001088d8
[ 1960.303233][ T6611] R13: dffffc0000000000 R14: 00000000161ff7d0 R15: ffffffff81a1fcc0
[ 1960.311856][ T6611] FS:  00007f2d5064e700(0000) GS:ffff8880ae700000(0000) knlGS:0000000000000000
[ 1960.321113][ T6611] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[ 1960.327717][ T6611] CR2: 0000000000000000 CR3: 0000000203e42000 CR4: 00000000001526e0
[ 1960.337795][ T6611] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[ 1960.346918][ T6611] DR3: 0000000000000000 DR6: 00000000fffe0ff0 DR7: 0000000000000400
[ 1960.356353][ T6611] Kernel panic - not syncing: Fatal exception
[ 1960.363633][ T6611] Kernel Offset: disabled
[ 1960.367946][ T6611] Rebooting in 86400 seconds..
