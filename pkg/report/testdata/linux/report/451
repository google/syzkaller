TITLE: general protection fault in deliberately_dereference_bad_address
ALT: bad-access in deliberately_dereference_bad_address

[   32.082291] general protection fault for non-canonical address 0xe017577ddf75b7dd: 0000 [#1] PREEMPT SMP KASAN PTI
[   32.084238] KASAN: maybe wild-memory-access in range [0x00badbeefbadbee8-0x00badbeefbadbeef]
[   32.085589] CPU: 0 PID: 1857 Comm: ioctl Not tainted 5.4.0-rc7+ #567
[   32.086640] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS 1.12.0-1 04/01/2014
[   32.088213] RIP: 0010:deliberately_dereference_bad_address+0x33/0x60
[   32.089260] Code: 00 00 68 37 13 37 13 9c 68 ef be 00 00 68 37 13 37 13 48 cf 5b c3 48 b8 00 00 00 00 00 fc ff df 48 89 fa 48 89 fb 48 c1 ea 03 <0f> b6 14 02 48 89 f8 83 e0 07 83 c0 03 38 d0 7c 04 84 d2 75 04 8b
[   32.094929] RSP: 0018:ffff8880a689fd20 EFLAGS: 00010207
[   32.097796] RAX: dffffc0000000000 RBX: 00badbeefbadbeef RCX: dffffc0000000000
[   32.100195] RDX: 00175b7ddf75b7dd RSI: 0000000013371337 RDI: 00badbeefbadbeef
[   32.101784] RBP: 1ffff11014d13fab R08: fffffbfff082dbf9 R09: 0000000000000000
[   32.103039] R10: ffff8880a689fea0 R11: ffffffff8416dfc7 R12: 0000000000000000
[   32.104277] R13: ffff8880b4e2dfc8 R14: 00badbeefbadbeef R15: 0000000000000000
[   32.105426] FS:  00007fed2c0a6500(0000) GS:ffff8880bb200000(0000) knlGS:0000000000000000
[   32.106712] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   32.107771] CR2: 00007fed2c04fc68 CR3: 00000000b5c60000 CR4: 00000000000006b0
[   32.109010] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   32.110155] DR3: 0000000000000000 DR6: 00000000fffe0ff0 DR7: 0000000000000400
[   32.111295] Call Trace:
[   32.111720]  do_vfs_ioctl+0x48e/0x1040
[   32.112361]  ? deliberately_dereference_bad_address+0x60/0x60
[   32.113322]  ? selinux_capable+0x20/0x20
[   32.114015]  ? up_read+0x1a3/0x730
[   32.114549]  ? down_write_trylock+0x2e0/0x2e0
[   32.115288]  ? __rwlock_init+0x140/0x140
[   32.115920]  ? security_file_ioctl+0x44/0x80
[   32.116646]  ksys_ioctl+0x5b/0x90
[   32.117238]  __x64_sys_ioctl+0x6a/0xb0
[   32.117824]  ? lockdep_hardirqs_on+0x388/0x570
[   32.118572]  do_syscall_64+0x12b/0x700
[   32.119160]  entry_SYSCALL_64_after_hwframe+0x49/0xbe
[   32.120016] RIP: 0033:0x7fed2bfd4427
[   32.120640] Code: 00 00 90 48 8b 05 69 aa 0c 00 64 c7 00 26 00 00 00 48 c7 c0 ff ff ff ff c3 66 2e 0f 1f 84 00 00 00 00 00 b8 10 00 00 00 0f 05 <48> 3d 01 f0 ff ff 73 01 c3 48 8b 0d 39 aa 0c 00 f7 d8 64 89 01 48
[   32.127603] RSP: 002b:00007ffe6fe28858 EFLAGS: 00000202 ORIG_RAX: 0000000000000010
[   32.129225] RAX: ffffffffffffffda RBX: 0000000000000000 RCX: 00007fed2bfd4427
[   32.130851] RDX: 00badbeefbadbeef RSI: 0000000013371337 RDI: 0000000000000000
[   32.132422] RBP: 00007ffe6fe28880 R08: 00007ffe6fe28e1c R09: 0000000000000000
[   32.133988] R10: fffffffffffff45a R11: 0000000000000202 R12: 0000562a50a71070
[   32.135128] R13: 00007ffe6fe28960 R14: 0000000000000000 R15: 0000000000000000
[   32.138289] ---[ end trace aa3be20c0f335b32 ]---
[   32.143398] RIP: 0010:deliberately_dereference_bad_address+0x33/0x60
[   32.145150] Code: 00 00 68 37 13 37 13 9c 68 ef be 00 00 68 37 13 37 13 48 cf 5b c3 48 b8 00 00 00 00 00 fc ff df 48 89 fa 48 89 fb 48 c1 ea 03 <0f> b6 14 02 48 89 f8 83 e0 07 83 c0 03 38 d0 7c 04 84 d2 75 04 8b
[   32.149959] RSP: 0018:ffff8880a689fd20 EFLAGS: 00010207
[   32.152272] RAX: dffffc0000000000 RBX: 00badbeefbadbeef RCX: dffffc0000000000
[   32.154700] RDX: 00175b7ddf75b7dd RSI: 0000000013371337 RDI: 00badbeefbadbeef
[   32.160923] RBP: 1ffff11014d13fab R08: fffffbfff082dbf9 R09: 0000000000000000
[   32.163460] R10: ffff8880a689fea0 R11: ffffffff8416dfc7 R12: 0000000000000000
[   32.165952] R13: ffff8880b4e2dfc8 R14: 00badbeefbadbeef R15: 0000000000000000
[   32.168382] FS:  00007fed2c0a6500(0000) GS:ffff8880bb200000(0000) knlGS:0000000000000000
[   32.170847] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   32.173270] CR2: 00007fe9d6b9e010 CR3: 00000000b5c60000 CR4: 00000000000006b0
[   32.175942] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   32.179005] DR3: 0000000000000000 DR6: 00000000fffe0ff0 DR7: 0000000000000400
