TITLE: kernel BUG in truncate_inode_partial_page

[  413.263409][T16632] ------------[ cut here ]------------
[  413.270117][T16632] kernel BUG at include/linux/highmem.h:202!
[  413.276170][T16632] invalid opcode: 0000 [#1] PREEMPT SMP KASAN
[  413.282240][T16632] CPU: 1 PID: 16632 Comm: syz-executor.4 Not tainted 5.10.0-rc4-next-20201123-syzkaller #0
[  413.292204][T16632] Hardware name: Google Google Compute Engine/Google Compute Engine, BIOS Google 01/01/2011
[  413.302412][T16632] RIP: 0010:truncate_inode_partial_page+0x5aa/0x720
[  413.309000][T16632] Code: bc 01 00 00 00 e8 e6 f8 ff ff e9 e7 fe ff ff e8 ac 12 d8 ff 48 c7 c6 80 49 54 89 48 89 ef e8 3d b6 08 00 0f 0b e8 96 12 d8 ff <0f> 0b e8 8f 12 d8 ff 48 c7 c6 00 4a 54 89 48 89 ef e8 20 b6 08 00
[  413.328601][T16632] RSP: 0018:ffffc90017cffa00 EFLAGS: 00010212
[  413.334669][T16632] RAX: 0000000000013693 RBX: 0000000000200000 RCX: ffffc90011d37000
[  413.342639][T16632] RDX: 0000000000040000 RSI: ffffffff8198788a RDI: 0000000000000005
[  413.350609][T16632] RBP: ffffea0001e28000 R08: 0000000000000000 R09: ffffea0001e28007
[  413.358576][T16632] R10: 0000000000001000 R11: 0000000000000000 R12: 00000000001fb8ff
[  413.366541][T16632] R13: 00000000001fb8ff R14: 0000000000004701 R15: ffffea0001e28008
[  413.374518][T16632] FS:  00007faa603fe700(0000) GS:ffff8880b9f00000(0000) knlGS:0000000000000000
[  413.383448][T16632] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[  413.390035][T16632] CR2: 000000000118c000 CR3: 0000000025883000 CR4: 00000000001506e0
[  413.398004][T16632] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[  413.405973][T16632] DR3: 0000000000000000 DR6: 00000000fffe0ff0 DR7: 0000000000000400
[  413.413938][T16632] Call Trace:
[  413.417289][T16632]  shmem_undo_range+0x6fd/0x18f0
[  413.479872][T16632]  shmem_setattr+0x67a/0xc70
[  413.489393][T16632]  notify_change+0xb60/0x10a0
[  413.500320][T16632]  do_truncate+0x134/0x1f0
[  413.515223][T16632]  vfs_truncate+0x49e/0x600
[  413.519747][T16632]  do_sys_truncate.part.0+0x11e/0x140
[  413.529801][T16632]  __x64_sys_truncate+0x69/0x90
[  413.534713][T16632]  do_syscall_64+0x2d/0x70
[  413.539166][T16632]  entry_SYSCALL_64_after_hwframe+0x44/0xa9
[  413.545052][T16632] RIP: 0033:0x45deb9
[  413.548944][T16632] Code: 0d b4 fb ff c3 66 2e 0f 1f 84 00 00 00 00 00 66 90 48 89 f8 48 89 f7 48 89 d6 48 89 ca 4d 89 c2 4d 89 c8 4c 8b 4c 24 08 0f 05 <48> 3d 01 f0 ff ff 0f 83 db b3 fb ff c3 66 2e 0f 1f 84 00 00 00 00
[  413.568545][T16632] RSP: 002b:00007faa603fdc78 EFLAGS: 00000246 ORIG_RAX: 000000000000004c
[  413.576954][T16632] RAX: ffffffffffffffda RBX: 0000000000038100 RCX: 000000000045deb9
[  413.584918][T16632] RDX: 0000000000000000 RSI: 0000000000004701 RDI: 0000000020000040
[  413.592885][T16632] RBP: 000000000118bf58 R08: 0000000000000000 R09: 0000000000000000
[  413.600851][T16632] R10: 0000000000000000 R11: 0000000000000246 R12: 000000000118bf2c
[  413.608824][T16632] R13: 00007fffffad578f R14: 00007faa603fe9c0 R15: 000000000118bf2c
[  413.616795][T16632] Modules linked in:
[  413.622319][T16632] ---[ end trace 428895aedee6133c ]---
[  413.628520][T16632] RIP: 0010:truncate_inode_partial_page+0x5aa/0x720
[  413.635115][T16632] Code: bc 01 00 00 00 e8 e6 f8 ff ff e9 e7 fe ff ff e8 ac 12 d8 ff 48 c7 c6 80 49 54 89 48 89 ef e8 3d b6 08 00 0f 0b e8 96 12 d8 ff <0f> 0b e8 8f 12 d8 ff 48 c7 c6 00 4a 54 89 48 89 ef e8 20 b6 08 00
[  413.654773][T16632] RSP: 0018:ffffc90017cffa00 EFLAGS: 00010212
[  413.660894][T16632] RAX: 0000000000013693 RBX: 0000000000200000 RCX: ffffc90011d37000
[  413.668905][T16632] RDX: 0000000000040000 RSI: ffffffff8198788a RDI: 0000000000000005
[  413.676910][T16632] RBP: ffffea0001e28000 R08: 0000000000000000 R09: ffffea0001e28007
[  413.684886][T16632] R10: 0000000000001000 R11: 0000000000000000 R12: 00000000001fb8ff
[  413.693677][T16632] R13: 00000000001fb8ff R14: 0000000000004701 R15: ffffea0001e28008
[  413.701713][T16632] FS:  00007faa603fe700(0000) GS:ffff8880b9f00000(0000) knlGS:0000000000000000
[  413.710682][T16632] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[  413.717306][T16632] CR2: 000000000118c000 CR3: 0000000025883000 CR4: 00000000001506e0
[  413.725285][T16632] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[  413.733311][T16632] DR3: 0000000000000000 DR6: 00000000fffe0ff0 DR7: 0000000000000400
[  413.741309][T16632] Kernel panic - not syncing: Fatal exception
[  413.748061][T16632] Kernel Offset: disabled
[  413.752377][T16632] Rebooting in 86400 seconds..
