TITLE: kernel BUG in rmap_walk_file

[ 1802.485653][T28126] ------------[ cut here ]------------
[ 1802.506583][T28126] kernel BUG at mm/internal.h:400!
[ 1802.511749][T28126] invalid opcode: 0000 [#1] PREEMPT SMP KASAN
[ 1802.517822][T28126] CPU: 0 PID: 28126 Comm: kworker/u4:0 Not tainted 5.10.0-rc6-syzkaller #0
[ 1802.526487][T28126] Hardware name: Google Google Compute Engine/Google Compute Engine, BIOS Google 01/01/2011
[ 1802.536546][T28126] Workqueue: writeback wb_workfn (flush-8:0)
[ 1802.542538][T28126] RIP: 0010:rmap_walk_file+0x6b4/0xbf0
[ 1802.549115][T28126] Code: f8 06 48 01 44 24 18 e9 1b fb ff ff e8 25 1c ca ff 4c 8d bb 00 f0 1f 00 e9 92 fd ff ff e8 14 1c ca ff 4c 89 e7 e8 95 bb 07 07 <0f> 0b e8 05 1c ca ff 48 8b 44 24 10 4c 8d 68 78 4c 89 ef e8 f4 a5
[ 1802.568719][T28126] RSP: 0018:ffffc9001656efb8 EFLAGS: 00010283
[ 1802.574789][T28126] RAX: 0000000000000154 RBX: 0000000000000000 RCX: 0000000000000000
[ 1802.582760][T28126] RDX: ffff8880702f8000 RSI: ffffffff8158c855 RDI: fffff52002caddd2
[ 1802.590725][T28126] RBP: ffffea00014ef380 R08: 0000000000000154 R09: ffff8880b9e30627
[ 1802.598678][T28126] R10: 0000000000000000 R11: 0000000000000000 R12: ffff888000129318
[ 1802.606627][T28126] R13: dffffc0000000000 R14: 0000000000000000 R15: 0000000000000000
[ 1802.614576][T28126] FS:  0000000000000000(0000) GS:ffff8880b9e00000(0000) knlGS:0000000000000000
[ 1802.623483][T28126] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[ 1802.630053][T28126] CR2: 000000000052df4c CR3: 000000016e143000 CR4: 00000000001506f0
[ 1802.638014][T28126] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[ 1802.645965][T28126] DR3: 0000000000000000 DR6: 00000000fffe0ff0 DR7: 0000000000000400
[ 1802.654008][T28126] Call Trace:
[ 1802.657289][T28126]  rmap_walk+0x105/0x190
[ 1802.661510][T28126]  page_mkclean+0x21c/0x2b0
[ 1802.687141][T28126]  clear_page_dirty_for_io+0x318/0xbe0
[ 1802.708280][T28126]  mpage_submit_page+0x80/0x2c0
[ 1802.713107][T28126]  mpage_process_page_bufs+0x656/0x780
[ 1802.718545][T28126]  mpage_prepare_extent_to_map+0x904/0xe00
[ 1802.745470][T28126]  ext4_writepages+0x95f/0x38a0
[ 1802.786049][T28126]  do_writepages+0xec/0x290
[ 1802.807180][T28126]  __writeback_single_inode+0x122/0x1180
[ 1802.817646][T28126]  writeback_sb_inodes+0x53d/0xef0
[ 1802.828637][T28126]  __writeback_inodes_wb+0xc6/0x280
[ 1802.833816][T28126]  wb_writeback+0x814/0xc40
[ 1802.859354][T28126]  wb_workfn+0x891/0x12d0
[ 1802.873941][T28126]  process_one_work+0x933/0x15a0
[ 1802.898922][T28126]  worker_thread+0x64c/0x1120
[ 1802.913761][T28126]  kthread+0x3b1/0x4a0
[ 1802.923691][T28126]  ret_from_fork+0x1f/0x30
[ 1802.928084][T28126] Modules linked in:
[ 1802.960091][T28126] ---[ end trace 5d185e0c163f88c9 ]---
[ 1802.965712][T28126] RIP: 0010:rmap_walk_file+0x6b4/0xbf0
[ 1802.983509][T28126] Code: f8 06 48 01 44 24 18 e9 1b fb ff ff e8 25 1c ca ff 4c 8d bb 00 f0 1f 00 e9 92 fd ff ff e8 14 1c ca ff 4c 89 e7 e8 95 bb 07 07 <0f> 0b e8 05 1c ca ff 48 8b 44 24 10 4c 8d 68 78 4c 89 ef e8 f4 a5
[ 1803.014183][T28126] RSP: 0018:ffffc9001656efb8 EFLAGS: 00010283
[ 1803.022807][T28126] RAX: 0000000000000154 RBX: 0000000000000000 RCX: 0000000000000000
[ 1803.031209][T28126] RDX: ffff8880702f8000 RSI: ffffffff8158c855 RDI: fffff52002caddd2
[ 1803.041259][T28126] RBP: ffffea00014ef380 R08: 0000000000000154 R09: ffff8880b9e30627
[ 1803.055203][T28126] R10: 0000000000000000 R11: 0000000000000000 R12: ffff888000129318
[ 1803.065784][T28126] R13: dffffc0000000000 R14: 0000000000000000 R15: 0000000000000000
[ 1803.075459][T28126] FS:  0000000000000000(0000) GS:ffff8880b9e00000(0000) knlGS:0000000000000000
[ 1803.087176][T28126] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[ 1803.094819][T28126] CR2: 0000000000749138 CR3: 0000000013a93000 CR4: 00000000001506f0
[ 1803.106332][T28126] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[ 1803.114486][T28126] DR3: 0000000000000000 DR6: 00000000fffe0ff0 DR7: 0000000000000400
[ 1803.124951][T28126] Kernel panic - not syncing: Fatal exception
[ 1803.131713][T28126] Kernel Offset: disabled
[ 1803.136088][T28126] Rebooting in 86400 seconds..
