TITLE: WARNING in rds_rdma_extra_size
TYPE: WARNING
PANICKED: Y

[  284.876768][T15540] ------------[ cut here ]------------
[  284.902257][T15540] WARNING: CPU: 1 PID: 15540 at mm/page_alloc.c:4977 __alloc_pages_nodemask+0x4e5/0x5a0
[  284.925674][   T35] audit: type=1326 audit(1610860785.698:6): auid=0 uid=0 gid=0 ses=4 subj=_ pid=15486 comm="syz-executor.5" exe="/root/syz-executor.5" sig=31 arch=c000003e syscall=228 compat=0 ip=0x46107a code=0x0
[  284.955437][T15540] Modules linked in:
[  284.964721][T15540] CPU: 1 PID: 15540 Comm: syz-executor.2 Not tainted 5.11.0-rc3-syzkaller #0
[  284.995346][T15540] Hardware name: Google Google Compute Engine/Google Compute Engine, BIOS Google 01/01/2011
[  285.084283][T15540] RIP: 0010:__alloc_pages_nodemask+0x4e5/0x5a0
[  285.120603][T15540] Code: ab 09 00 e9 dd fd ff ff 44 89 e9 80 e1 07 80 c1 03 38 c1 0f 8c eb fd ff ff 4c 89 ef e8 f4 aa 09 00 8b 74 24 18 e9 da fd ff ff <0f> 0b e9 f3 fd ff ff a9 00 00 08 00 75 16 8b 4c 24 1c 89 cb 81 e3
[  285.209496][T15540] RSP: 0018:ffffc90016bff620 EFLAGS: 00010246
[  285.293102][T15540] RAX: ffffc90016bff6a0 RBX: ffffc90016bff6a0 RCX: 0000000000000000
[  285.322404][T15540] RDX: 0000000000000028 RSI: 0000000000000000 RDI: ffffc90016bff6c8
[  285.361684][T15540] RBP: ffffc90016bff758 R08: dffffc0000000000 R09: ffffc90016bff6a0
[  285.405960][T15540] R10: fffff52002d7fed9 R11: 0000000000000000 R12: dffffc0000000000
[  285.501600][T15540] R13: 0000000000000018 R14: 1ffff92002d7fed0 R15: 0000000000040dc0
[  285.509987][T15540] FS:  00007fc7102ae700(0000) GS:ffff8880b9c00000(0000) knlGS:0000000000000000
[  285.545684][T15540] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[  285.560707][T15540] CR2: 0000000000749138 CR3: 0000000025dd7000 CR4: 00000000001506f0
[  285.597705][T15540] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[  285.631442][T15540] DR3: 0000000000000000 DR6: 00000000fffe0ff0 DR7: 0000000000000600
[  285.650101][T15540] Call Trace:
[  285.712797][T15540]  kmalloc_order+0x40/0x130
[  285.717394][T15540]  kmalloc_order_trace+0x15/0x70
[  285.735208][T15540]  __kmalloc+0x257/0x330
[  285.759109][T15540]  kmalloc_array+0x2d/0x40
[  285.768346][T15540]  rds_rdma_extra_size+0x84/0x300
[  285.800116][T15540]  rds_sendmsg+0xfad/0x3210
[  285.999290][T15540]  ____sys_sendmsg+0x5a2/0x900
[  286.033375][T15540]  __sys_sendmsg+0x319/0x400
[  286.150694][T15540]  do_syscall_64+0x2d/0x70
[  286.166684][T15540]  entry_SYSCALL_64_after_hwframe+0x44/0xa9
[  286.181002][T15540] RIP: 0033:0x45e219
[  286.195510][T15540] Code: 0d b4 fb ff c3 66 2e 0f 1f 84 00 00 00 00 00 66 90 48 89 f8 48 89 f7 48 89 d6 48 89 ca 4d 89 c2 4d 89 c8 4c 8b 4c 24 08 0f 05 <48> 3d 01 f0 ff ff 0f 83 db b3 fb ff c3 66 2e 0f 1f 84 00 00 00 00
[  286.235289][T15540] RSP: 002b:00007fc7102adc68 EFLAGS: 00000246 ORIG_RAX: 000000000000002e
[  286.245014][T15540] RAX: ffffffffffffffda RBX: 0000000000000003 RCX: 000000000045e219
[  286.254204][T15540] RDX: 0000000000000000 RSI: 0000000020001600 RDI: 0000000000000003
[  286.262963][T15540] RBP: 000000000119bfc0 R08: 0000000000000000 R09: 0000000000000000
[  286.271139][T15540] R10: 0000000000000000 R11: 0000000000000246 R12: 000000000119bf8c
[  286.280405][T15540] R13: 00007ffd4cf1c0cf R14: 00007fc7102ae9c0 R15: 000000000119bf8c
[  286.289847][T15540] Kernel panic - not syncing: panic_on_warn set ...
[  286.296460][T15540] CPU: 0 PID: 15540 Comm: syz-executor.2 Not tainted 5.11.0-rc3-syzkaller #0
[  286.305242][T15540] Hardware name: Google Google Compute Engine/Google Compute Engine, BIOS Google 01/01/2011
[  286.315443][T15540] Call Trace:
[  286.318738][T15540]  dump_stack+0x183/0x22e
[  286.334039][T15540]  panic+0x2e1/0x850
[  286.352133][T15540]  __warn+0x26a/0x270
[  286.367630][T15540]  report_bug+0x1b1/0x2e0
[  286.371995][T15540]  handle_bug+0x3d/0x70
[  286.376432][T15540]  exc_invalid_op+0x16/0x40
[  286.381105][T15540]  asm_exc_invalid_op+0x12/0x20
[  286.386077][T15540] RIP: 0010:__alloc_pages_nodemask+0x4e5/0x5a0
[  286.392267][T15540] Code: ab 09 00 e9 dd fd ff ff 44 89 e9 80 e1 07 80 c1 03 38 c1 0f 8c eb fd ff ff 4c 89 ef e8 f4 aa 09 00 8b 74 24 18 e9 da fd ff ff <0f> 0b e9 f3 fd ff ff a9 00 00 08 00 75 16 8b 4c 24 1c 89 cb 81 e3
[  286.412153][T15540] RSP: 0018:ffffc90016bff620 EFLAGS: 00010246
[  286.418257][T15540] RAX: ffffc90016bff6a0 RBX: ffffc90016bff6a0 RCX: 0000000000000000
[  286.426255][T15540] RDX: 0000000000000028 RSI: 0000000000000000 RDI: ffffc90016bff6c8
[  286.434385][T15540] RBP: ffffc90016bff758 R08: dffffc0000000000 R09: ffffc90016bff6a0
[  286.442377][T15540] R10: fffff52002d7fed9 R11: 0000000000000000 R12: dffffc0000000000
[  286.450685][T15540] R13: 0000000000000018 R14: 1ffff92002d7fed0 R15: 0000000000040dc0
[  286.480443][T15540]  kmalloc_order+0x40/0x130
[  286.485002][T15540]  kmalloc_order_trace+0x15/0x70
[  286.489937][T15540]  __kmalloc+0x257/0x330
[  286.498894][T15540]  kmalloc_array+0x2d/0x40
[  286.503329][T15540]  rds_rdma_extra_size+0x84/0x300
[  286.508368][T15540]  rds_sendmsg+0xfad/0x3210
[  286.551123][T15540]  ____sys_sendmsg+0x5a2/0x900
[  286.566345][T15540]  __sys_sendmsg+0x319/0x400
[  286.624285][T15540]  do_syscall_64+0x2d/0x70
[  286.628724][T15540]  entry_SYSCALL_64_after_hwframe+0x44/0xa9
[  286.634634][T15540] RIP: 0033:0x45e219
[  286.638563][T15540] Code: 0d b4 fb ff c3 66 2e 0f 1f 84 00 00 00 00 00 66 90 48 89 f8 48 89 f7 48 89 d6 48 89 ca 4d 89 c2 4d 89 c8 4c 8b 4c 24 08 0f 05 <48> 3d 01 f0 ff ff 0f 83 db b3 fb ff c3 66 2e 0f 1f 84 00 00 00 00
[  286.658178][T15540] RSP: 002b:00007fc7102adc68 EFLAGS: 00000246 ORIG_RAX: 000000000000002e
[  286.666595][T15540] RAX: ffffffffffffffda RBX: 0000000000000003 RCX: 000000000045e219
[  286.674587][T15540] RDX: 0000000000000000 RSI: 0000000020001600 RDI: 0000000000000003
[  286.682572][T15540] RBP: 000000000119bfc0 R08: 0000000000000000 R09: 0000000000000000
[  286.690550][T15540] R10: 0000000000000000 R11: 0000000000000246 R12: 000000000119bf8c
[  286.698535][T15540] R13: 00007ffd4cf1c0cf R14: 00007fc7102ae9c0 R15: 000000000119bf8c
